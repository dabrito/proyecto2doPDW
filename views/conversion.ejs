
<%- include('partials/header') %>
<%- include('partials/menu') %>

  <div class="container d-flex flex-column align-items-center justify-content-center text-center" style="min-height: 80vh;">
    <h2>Conversión de Monedas (USD como base interna)</h2>
    <h3>Ingresa el monto en el campo de la izquierda y selecciona la divisa de origen en la derecha.</h3>

    <form action="/conversion" method="POST">
      <div class="my-3">
        <input
          type="number"
          class="form-control d-inline-block text-end"
          style="width: 150px;"
          name="amount"
          placeholder="Cantidad"
          value="<%= amount ?? '' %>"
        />

        <select class="form-select d-inline-block" style="width: 150px;" name="fromCurrency">
          <% currencies.forEach(c => { %>
            <option value="<%= c %>" <%= fromCurrency === c ? 'selected' : '' %>><%= c %></option>
          <% }) %>
        </select>
      </div>

      <div class="my-2">
        <span class="fs-3">→</span>
      </div>

      <div class="my-3">
        <div
          class="border d-inline-block p-2 me-2"
          style="min-width: 150px; background-color: #f8f9fa;"
        >
          <%= typeof convertedValue === 'number' ? convertedValue.toFixed(4) : '---' %>
        </div>

        <select class="form-select d-inline-block" style="width: 150px;" name="toCurrency">
          <% currencies.forEach(c => { %>
            <option value="<%= c %>" <%= toCurrency === c ? 'selected' : '' %>><%= c %></option>
          <% }) %>
        </select>
      </div>

      <h3>Elige la divisa destino en el selector derecho, haz clic en "Convertir" y visualiza el resultado en la izquierda.</h3>

      <div class="my-4">
        <button class="btn btn-primary" type="submit">Convertir</button>
      </div>
    </form>
  </div>
  <div style="margin-bottom: 75px;"></div>
  </div>
<%- include('partials/footer') %>